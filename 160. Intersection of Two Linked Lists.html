<script src="utilities.js"></script>
<script>

    /**
     * Definition for singly-linked list.
     */
    function ListNode(val) {
        this.val = val;
        this.next = null;
    }

    /**
     * @param {ListNode} headA
     * @param {ListNode} headB
     * @return {ListNode}
     */
    var getIntersectionNode = function (headA, headB) {
        let nodeA = headA;
        let nodeB = headB;
        let ans = null;
        while (!ans && (nodeA || nodeB)) {
            if (nodeA) {
                if (nodeA.belongTo === 'b') ans = nodeA;
                else {
                    nodeA.belongTo = 'a';
                    nodeA = nodeA.next;
                }
            }
            if (nodeB) {
                if (nodeB.belongTo === 'a') ans = nodeB;
                else {
                    nodeB.belongTo = 'b';
                    nodeB = nodeB.next;
                }
            }

        }
        return ans;
    };


    const test1a = arrayToLinkedList([1, 3, 5]);
    const test1b = arrayToLinkedList([4, 9, 11]);
    getLastNode(test1a).next = test1b;
    assert(4, getIntersectionNode(test1a, test1b).val);



    const test2 = arrayToLinkedList([1]);
    assert(1, getIntersectionNode(test2, test2).val);
    
</script>