<script src="utilities.js"></script>
<script>

    /**
     * @param {number[]} nums
     * @return {void} Do not return anything, modify nums in-place instead.
     * 由後往前找, 並記錄找到的值, 遇到比後面小的值時, 以次小的值取代, 其後依小到大排列.
     */
    var nextPermutation = function (nums) {
        let index = nums.length - 1;
        let record = [];
        while (index > -1) {
            const current = nums[index];
            const biggerIndex = record.findIndex(e => e > current);
            if (biggerIndex === -1) {
                record.push(current);
                index--;
            }
            else {
                const fw = record[biggerIndex];
                record[biggerIndex] = nums[index];
                record = [...nums.slice(0, index), fw, ...record];
                break;
            }
        }
        nums.forEach((e, i) => { nums[i] = record[i]; });
    };

    const test1 = [1, 2, 3];
    nextPermutation(test1);
    assert([1, 3, 2], test1);

    const test2 = [2, 3, 1];
    nextPermutation(test2);
    assert([3, 1, 2], test2);

    const test3 = [3, 1, 2];
    nextPermutation(test3);
    assert([3, 2, 1], test3);


    const test4 = [2, 1, 2];
    nextPermutation(test4);
    assert([2, 2, 1], test4);

    const test5 = [1, 2, 3, 4];
    nextPermutation(test5);
    assert([1, 2, 4, 3], test5);

    const test6 = [3, 1, 2, 4];
    nextPermutation(test6);
    assert([3, 1, 4, 2], test6);

    const test7 = [3, 1, 2, 3, 4];
    nextPermutation(test7);
    assert([3, 1, 2, 4, 3], test7);

    const test8 = [3, 1, 2, 4, 3];
    nextPermutation(test8);
    assert([3, 1, 3, 2, 4], test8);

    const test9 = [3, 2, 2, 4, 3];
    nextPermutation(test9);
    assert([3, 2, 3, 2, 4], test9);

    const test10 = [3, 3, 5, 4, 2];
    nextPermutation(test10);
    assert([3, 4, 2, 3, 5], test10);

    const test11 = [3, 2, 1];
    nextPermutation(test11);
    assert([1, 2, 3], test11);

    const test12 = [3, 2, 2, 1, 1];
    nextPermutation(test12);
    assert([1, 1, 2, 2, 3], test12);


</script>