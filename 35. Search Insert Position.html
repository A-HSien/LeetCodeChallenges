<script src="utilities.js"></script>
<script>

    /**
     * @param {number[]} nums
     * @param {number} target
     * @return {number}
     */
    var searchInsert = function (nums, target) {
        let min = 0, max = nums.length - 1;
        safetyWhile(() => (min <= max),
            () => {
                const index = Math.floor((min + max) / 2);
                const toCompare = nums[index];
                if (toCompare === target) {
                    min = index;
                    max = -1;
                }
                else if (toCompare < target)
                    min = index + 1;
                else
                    max = index - 1;
            }
        );
        return min;
    };


    assert(0, searchInsert([1, 3, 5, 6], 0));
    assert(2, searchInsert([1, 3, 5, 6], 5));
    assert(4, searchInsert([1, 3, 5, 6], 7));
    assert(5, searchInsert([1, 3, 4, 5, 6], 7));
    assert(1, searchInsert([1, 3, 4, 5, 6], 2));

    assert(1, searchInsert([1, 3], 2));

</script>