<script src="utilities.js"></script>
<script>

    /**
     * @param {number[]} nums
     * @return {number}
     */
    var maxSubArray = function (nums) {
        const len = nums.length;
        if (len === 0) return 0;
        if (len === 1) return nums[0];
        if (len === 2) return Math.max(nums[0], nums[1], nums[0] + nums[1]);

        let max = nums[0];
        for (let i = 1; i < len; i++) {
            nums[i] = nums[i - 1] > 0 ? nums[i] + nums[i - 1] : nums[i];
            max = Math.max(max, nums[i]);
        }
        return max;
    };


    assert(6, maxSubArray([-2, 1, -3, 4, -1, 2, 1, -5, 4]));
    assert(-1, maxSubArray([-2, -3, -1]));
</script>