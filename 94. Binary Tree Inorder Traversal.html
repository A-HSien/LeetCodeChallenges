<script src="assert.js"></script>
<script>
    /**
     * Definition for a binary tree node. 
     */
    function TreeNode(val) {
        this.val = val;
        this.left = this.right = null;
    }

    /**
     * @param {TreeNode} root
     * @return {number[]}
     */
    var inorderTraversal = function (root) {
        const ans = [];
        if (!root) return ans;
        
        const stack = [root]; // record passed nodes
        let current = root;
        while (stack.length > 0) {
            while (current.left) {
                current = current.left;
                stack.push(current);
            }
            const passedNode = stack.pop();
            ans.push(passedNode.val);
            if (passedNode.right) {
                current = passedNode.right;
                stack.push(current);
            }
        }
        return ans;
    };


    const test1 = new TreeNode(1);
    test1.left = new TreeNode(2);
    test1.left.left = new TreeNode(3);
    assert([3, 2, 1], inorderTraversal(test1));

    const test2 = new TreeNode(1);
    test2.right = new TreeNode(2);
    test2.right.left = new TreeNode(3);
    assert([1, 3, 2], inorderTraversal(test2));


    assert([], inorderTraversal(null));


</script>