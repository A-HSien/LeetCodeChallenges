<script src="utilities.js"></script>
<script>

    /**
     * @param {number[]} nums
     * @return {void} Do not return anything, modify nums in-place instead.
     */
    var nextPermutation = function (nums) {
        let currentNums = nums;
        const max = nums.length;
        let index = max - 2;
        while (currentNums[index] === max && index > -1) {
            index--;
        }
        if (index === -1)
            return nums.sort();

        currentNums[index] += 1;

        const map = {};
        for (let i = 0; i <= index; i++)
            map[currentNums[i]] = true;

        for (let i = 1; i <= max; i++) {
            if (!map[i]) {
                index++;
                currentNums[index] = i;
            }
        }
        return currentNums;
    };


    assert([1, 3, 2], nextPermutation([1, 2, 3]));
    assert([3, 2, 1], nextPermutation([3, 1, 2]));

    assert([1, 3, 2, 4], nextPermutation([1, 2, 3, 4]));
    assert([3, 2, 1, 4], nextPermutation([3, 1, 2, 3]));

    assert([1, 2, 3], nextPermutation([3, 2, 1]));


</script>