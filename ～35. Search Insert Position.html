<script src="assert.js"></script>
<script>

    /**
     * @param {number[]} nums
     * @param {number} target
     * @return {number}
     */
    var searchInsert = function (nums, target) {
        let min = 0, max = nums.length;
        safetyWhile(() => (min < max),
            () => {
                const index = Math.floor((min + max) / 2);
                const toCompare = nums[index];
                if (toCompare === target)
                    min = max = index;
                else if (toCompare < target)
                    min = index + 1;
                else
                    max = index - 1;
            }
        );
        return Math.min(min, max);
    };


    assert(2, searchInsert([1, 3, 5, 6], 5));
    assert(4, searchInsert([1, 3, 5, 6], 7));
    assert(5, searchInsert([1, 3, 4, 5, 6], 7));

    assert(1, searchInsert([1, 3], 2));

</script>